{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAGtCF,EAAOG,iBAAiB,SAAS,EAAAL,EAAAM,WAkBjC,SAAqBC,GACnB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EAAMG,OAC9B,IAAIC,EAAYC,KAAKC,MAAMC,aAAaC,QAtBzB,yBAsB+C,GAC9DJ,EAAY,IACPA,EACHH,CAACA,GAAOC,GAEVK,aAAaE,QA3BE,sBA2BgBJ,KAAKK,UAAUN,G,GAzBO,MACvDT,EAAOG,iBAAiB,UAExB,SAAsBE,GACpBA,EAAMW,iBACN,IAAIC,EAAY,GAChB,MAAMC,EAAW,IAAIC,SAASnB,GAC9B,IAAK,MAAOM,EAAMC,KAAUW,EAASE,UAAW,CAC9C,IAAKb,EACH,OAEFU,EAAUX,GAAQC,C,CAEpBK,aAAaS,WAfE,uBAgBfC,QAAQC,IAAIN,GACZjB,EAAOwB,O,IAaU,MACjB,IAAIC,EAAef,KAAKC,MAAMC,aAAaC,QA/B5B,yBA+BkD,GAC9Ca,OAAOC,KAAKF,GACpBG,SAAQC,IACL7B,EAAO8B,SAASD,GAEd,MAAIJ,EAAaI,EAAU,GACzC,EAEJE","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst FORM_KEY = 'feedback-form-state';\n\nformEl.addEventListener('input', throttle(onFormInput, 500));\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  let finalData = {};\n  const formData = new FormData(formEl);\n  for (const [name, value] of formData.entries()) {\n    if (!value) {\n      return;\n    }\n    finalData[name] = value;\n  }\n  localStorage.removeItem(FORM_KEY);\n  console.log(finalData);\n  formEl.reset();\n}\n\nfunction onFormInput(event) {\n  const { name, value } = event.target;\n  let savedData = JSON.parse(localStorage.getItem(FORM_KEY)) ?? {};\n  savedData = {\n    ...savedData,\n    [name]: value,\n  };\n  localStorage.setItem(FORM_KEY, JSON.stringify(savedData));\n}\n\nconst renderData = () => {\n  let dataToRender = JSON.parse(localStorage.getItem(FORM_KEY)) ?? {};\n  const inputNames = Object.keys(dataToRender);\n  inputNames.forEach(inputName => {\n    let input = formEl.elements[inputName];\n      let valueKey = 'value';\n    input[valueKey] = dataToRender[inputName];\n  });\n};\nrenderData();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","throttle","event","name","value","target","savedData","JSON","parse","localStorage","getItem","setItem","stringify","preventDefault","finalData","formData","FormData","entries","removeItem","console","log","reset","dataToRender","Object","keys","forEach","inputName","elements","$945622fd0f572e60$var$renderData"],"version":3,"file":"03-feedback.f90cfc78.js.map"}